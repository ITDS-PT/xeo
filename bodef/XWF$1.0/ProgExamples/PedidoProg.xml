<!-- edited with XMLSPY v5 rel. 4 U (http://www.xmlspy.com) by José Manual Capaz Formiga (ENLACE3) -->
<program name="Sem nome" sid="10997669384377854">
	<executewhen><![CDATA[]]></executewhen>
	<code>
		<defVariables sid="10997670054014328">
			<defVariable name="emailRec" form="" input="true" sid="10997670209117221">
				<type>object.email</type>
				<label><![CDATA[Email Reclamação]]></label>
				<description><![CDATA[Email Contendo a Reclamação]]></description>
				<value><![CDATA[]]></value>
				<defaultValue><![CDATA[]]></defaultValue>
				<objectfilter>
					<xeoql><![CDATA[]]></xeoql>
				</objectfilter>
				<minoccurs>1</minoccurs>
				<maxoccurs>1</maxoccurs>
				<formula><![CDATA[]]></formula>
				<lov/>
				<valid><![CDATA[]]></valid>
				<hiddenWhen><![CDATA[]]></hiddenWhen>
				<required>y</required>
				<validDB>y</validDB>
				<validBusiness>y</validBusiness>
				<showMode>viewAttribute</showMode>
				<mode>write</mode>
				<availableMethods/>
				<hiddenMethods/>
				<requiredMethods/>
			</defVariable>
			<defVariable name="srvcom" form="" input="false" sid="10997674534280237">
				<type>object.ANC_srvcom</type>
				<label><![CDATA[Serviço de Comunicações]]></label>
				<description><![CDATA[]]></description>
				<value><![CDATA[]]></value>
				<defaultValue><![CDATA[]]></defaultValue>
				<objectfilter>
					<xeoql><![CDATA[]]></xeoql>
				</objectfilter>
				<minoccurs>0</minoccurs>
				<maxoccurs>1</maxoccurs>
				<formula><![CDATA[]]></formula>
				<lov/>
				<valid><![CDATA[]]></valid>
				<hiddenWhen><![CDATA[]]></hiddenWhen>
				<required>n</required>
				<validDB>y</validDB>
				<validBusiness>y</validBusiness>
				<showMode>viewAttribute</showMode>
				<mode>write</mode>
				<availableMethods/>
				<hiddenMethods/>
				<requiredMethods/>
			</defVariable>
			<defVariable name="operator" form="" input="false" sid="10997678583197837">
				<type>object.ANC_entity</type>
				<label><![CDATA[Operador]]></label>
				<description><![CDATA[]]></description>
				<value><![CDATA[]]></value>
				<defaultValue><![CDATA[]]></defaultValue>
				<objectfilter>
					<xeoql><![CDATA[]]></xeoql>
				</objectfilter>
				<minoccurs>0</minoccurs>
				<maxoccurs>1</maxoccurs>
				<formula><![CDATA[]]></formula>
				<lov/>
				<valid><![CDATA[]]></valid>
				<hiddenWhen><![CDATA[]]></hiddenWhen>
				<required>n</required>
				<validDB>y</validDB>
				<validBusiness>y</validBusiness>
				<showMode>viewAttribute</showMode>
				<mode>write</mode>
				<availableMethods/>
				<hiddenMethods/>
				<requiredMethods/>
			</defVariable>
			<defVariable name="claimRun" form="" input="false" sid="10997679479177253">
				<type>object.claim</type>
				<label><![CDATA[Reclamação]]></label>
				<description><![CDATA[]]></description>
				<value><![CDATA[]]></value>
				<defaultValue><![CDATA[]]></defaultValue>
				<objectfilter>
					<xeoql><![CDATA[]]></xeoql>
				</objectfilter>
				<minoccurs>0</minoccurs>
				<maxoccurs>1</maxoccurs>
				<formula><![CDATA[]]></formula>
				<lov/>
				<valid><![CDATA[]]></valid>
				<hiddenWhen><![CDATA[]]></hiddenWhen>
				<required>n</required>
				<validDB>y</validDB>
				<validBusiness>y</validBusiness>
				<showMode>viewObject</showMode>
				<mode>write</mode>
				<availableMethods/>
				<hiddenMethods/>
				<requireMethods>
					<method name="sendToRes" executed="0"/>
				</requireMethods>
			</defVariable>
			<defVariable name="pi" form="" input="false" sid="10997683033802927">
				<type>object.information</type>
				<label><![CDATA[Pedido de Informação]]></label>
				<description><![CDATA[]]></description>
				<value><![CDATA[]]></value>
				<defaultValue><![CDATA[]]></defaultValue>
				<objectfilter>
					<xeoql><![CDATA[]]></xeoql>
				</objectfilter>
				<minoccurs>0</minoccurs>
				<maxoccurs>1</maxoccurs>
				<formula><![CDATA[]]></formula>
				<lov/>
				<valid><![CDATA[]]></valid>
				<hiddenWhen><![CDATA[]]></hiddenWhen>
				<required>n</required>
				<validDB>y</validDB>
				<validBusiness>y</validBusiness>
				<showMode>viewObject</showMode>
				<mode>write</mode>
				<availableMethods/>
				<hiddenMethods/>
				<requiredMethods/>
			</defVariable>
			<defVariable name="sug" form="" input="false" sid="1099768248192925">
				<type>object.suggestion</type>
				<label><![CDATA[Sugestão]]></label>
				<description><![CDATA[]]></description>
				<value><![CDATA[]]></value>
				<defaultValue><![CDATA[]]></defaultValue>
				<objectfilter>
					<xeoql><![CDATA[]]></xeoql>
				</objectfilter>
				<minoccurs>0</minoccurs>
				<maxoccurs>1</maxoccurs>
				<formula><![CDATA[]]></formula>
				<lov/>
				<valid><![CDATA[]]></valid>
				<hiddenWhen><![CDATA[]]></hiddenWhen>
				<required>n</required>
				<validDB/>
				<validBusiness/>
				<showMode/>
				<mode>write</mode>
				<availableMethods/>
				<hiddenMethods/>
				<requiredMethods/>
			</defVariable>
			<defVariable name="emailInt" form="" input="false" sid="10997709487582741">
				<type>object.email</type>
				<label><![CDATA[Email de Esclarecimento Interno]]></label>
				<description><![CDATA[]]></description>
				<value><![CDATA[]]></value>
				<defaultValue><![CDATA[]]></defaultValue>
				<objectfilter>
					<xeoql><![CDATA[]]></xeoql>
				</objectfilter>
				<minoccurs>1</minoccurs>
				<maxoccurs>1</maxoccurs>
				<formula><![CDATA[]]></formula>
				<lov/>
				<valid><![CDATA[]]></valid>
				<hiddenWhen><![CDATA[]]></hiddenWhen>
				<required>y</required>
				<validDB>y</validDB>
				<validBusiness>y</validBusiness>
				<showMode>viewObject</showMode>
				<mode>write</mode>
				<availableMethods/>
				<hiddenMethods/>
				<requiredMethods/>
			</defVariable>
			<defVariable name="emailResp" form="" input="false" sid="1099771089719999">
				<type>object.email</type>
				<label><![CDATA[Email de Resposta ao Cliente]]></label>
				<description><![CDATA[]]></description>
				<value><![CDATA[]]></value>
				<defaultValue><![CDATA[]]></defaultValue>
				<objectfilter>
					<xeoql><![CDATA[]]></xeoql>
				</objectfilter>
				<minoccurs>0</minoccurs>
				<maxoccurs>1</maxoccurs>
				<formula><![CDATA[]]></formula>
				<lov/>
				<valid><![CDATA[]]></valid>
				<hiddenWhen><![CDATA[]]></hiddenWhen>
				<required>n</required>
				<validDB>y</validDB>
				<validBusiness>y</validBusiness>
				<showMode>viewObject</showMode>
				<mode>write</mode>
				<availableMethods/>
				<hiddenMethods/>
				<requiredMethods/>
			</defVariable>
			<defVariable name="esclares" form="" input="false" sid="10999292523625014">
				<type>object.email</type>
				<label><![CDATA[Lista de esclarecimentos]]></label>
				<description><![CDATA[Lista de esclarecimentos internos pedidos]]></description>
				<value><![CDATA[]]></value>
				<defaultValue><![CDATA[]]></defaultValue>
				<objectfilter>
					<xeoql><![CDATA[]]></xeoql>
				</objectfilter>
				<minoccurs>0</minoccurs>
				<maxoccurs>999999</maxoccurs>
				<formula><![CDATA[]]></formula>
				<lov/>
				<valid><![CDATA[]]></valid>
				<hiddenWhen><![CDATA[]]></hiddenWhen>
				<required>n</required>
				<validDB>y</validDB>
				<validBusiness>y</validBusiness>
				<showMode/>
				<mode>write</mode>
				<availableMethods/>
				<hiddenMethods/>
				<requiredMethods/>
			</defVariable>
		</defVariables>
		<defParticipants sid="10997670072169497">
			<defParticipant name="classificator" input="false" sid="10997672589218037">
				<label><![CDATA[Classificador]]></label>
				<description><![CDATA[Avalia que tipo de reclamação é que é e preenche os dados.]]></description>
				<value><![CDATA[]]></value>
				<type>object.Ebo_Perf</type>
				<defaultValue><![CDATA[1727785]]></defaultValue>
				<object/>
				<objectfilter>
					<xeoql><![CDATA[]]></xeoql>
				</objectfilter>
				<mode>write</mode>
			</defParticipant>
		</defParticipants>
		<comment sid="109999701477495"><![CDATA[Fluxo de Programa propriamente dito]]></comment>
		<milestone name="Fase de Recepção" sid="11000003082048032"/>
		<thread name="classTh" sid="10999125673296255">
			<label>classficationThread</label>
			<participant name="classificator"/>
			<requiredWhen><![CDATA[true]]></requiredWhen>
			<optionalWhen><![CDATA[true]]></optionalWhen>
			<code>
				<fillVariable async="false" optional="false" name="" sid="1099767285091529">
					<participant name="classificator"/>
					<assignedRule name="" form="default"/>
					<label><![CDATA[Operador e Serviço]]></label>
					<description><![CDATA[Classificar a reclamação em causa]]></description>
					<condition><![CDATA[true]]></condition>
					<deadLineDate><![CDATA[]]></deadLineDate>
					<forecastTimeToComplete><![CDATA[]]></forecastTimeToComplete>
					<forecastWorkDuration><![CDATA[]]></forecastWorkDuration>
					<canAddSubActivities/>
					<canDelegate/>
					<controlBy/>
					<variables>
						<variable name="operator"/>
						<variable name="srvcom"/>
					</variables>
				</fillVariable>
				<if sid="10999233706795844">
					<condition><![CDATA[claimRun != null]]></condition>
					<answers>
						<TRUE sid="1099923398099135">
							<label><![CDATA[Sim]]></label>
							<code>
								<xepCode sid="10999125255158125">
									<condition><![CDATA[ true ]]></condition>
									<codetorun><![CDATA[claimRun.name = emailRec.name;claimRun.srvcom = srvcom ; claimRun.operator = operator;]]></codetorun>
								</xepCode>
							</code>
						</TRUE>
						<FALSE sid="10999233497138095">
							<label><![CDATA[Não]]></label>
							<code>
								<if sid="1099923461408197">
									<condition><![CDATA[pi != null]]></condition>
									<answers>
										<TRUE sid="10999234208729443">
											<label><![CDATA[Sim]]></label>
											<code>
												<xepCode sid="10999131587793808">
													<condition><![CDATA[ true ]]></condition>
													<codetorun><![CDATA[pi.name = emailRec.name;pi.srvcom = srvcom ; pi.operator = operator;]]></codetorun>
												</xepCode>
											</code>
										</TRUE>
										<FALSE sid="1099923392027336">
											<label><![CDATA[Não]]></label>
											<code>
												<if sid="10999234585491924">
													<condition><![CDATA[sug != null]]></condition>
													<answers>
														<TRUE sid="10999234409432707">
															<label><![CDATA[Sim]]></label>
															<code>
																<xepCode sid="1099913147159493">
																	<condition><![CDATA[ true ]]></condition>
																	<codetorun><![CDATA[sug.name = emailRec.name;sug.srvcom = srvcom ; sug.operator = operator;]]></codetorun>
																</xepCode>
															</code>
														</TRUE>
													</answers>
												</if>
											</code>
										</FALSE>
									</answers>
								</if>
							</code>
						</FALSE>
					</answers>
				</if>
			</code>
		</thread>
		<thread name="intern" sid="1099925379338743">
			<label>pedidosInternos</label>
			<participant name="classificator"/>
			<requiredWhen><![CDATA[true]]></requiredWhen>
			<optionalWhen><![CDATA[true]]></optionalWhen>
			<code>
				<programlabel name="pedidos" sid="10999257827221025"/>
				<while sid="11000031690060302">
					<condition><![CDATA[]]></condition>
					<code>
						<fillVariable async="false" optional="true" name="optPedido" sid="10997708828069944">
							<participant name="classificator"/>
							<assignedRule name="" form="default"/>
							<label><![CDATA[Pedido de Informação Interna]]></label>
							<description><![CDATA[]]></description>
							<condition><![CDATA[true]]></condition>
							<deadLineDate><![CDATA[]]></deadLineDate>
							<forecastTimeToComplete><![CDATA[]]></forecastTimeToComplete>
							<forecastWorkDuration><![CDATA[]]></forecastWorkDuration>
							<canAddSubActivities/>
							<canDelegate/>
							<controlBy/>
							<variables>
								<variable name="emailInt"/>
							</variables>
						</fillVariable>
						<xepCode sid="10999294128776406">
							<condition><![CDATA[true]]></condition>
							<codetorun><![CDATA[esclares.add(emailInt.BOUI());
emailInt = null;]]></codetorun>
						</xepCode>
					</code>
				</while>
				<goto label="pedidos" sid="10999253794041513">
					<participant/>
					<condition><![CDATA[]]></condition>
				</goto>
			</code>
		</thread>
		<waitThread sid="11000003522542907" name="incFlow">
			<label><![CDATA[Esperar operador/serviço]]></label>
			<logicalOperator>and</logicalOperator>
			<time><![CDATA[120]]></time>
			<ontimeout><![CDATA[]]></ontimeout>
			<threads>
				<waitFor name="classTh"/>
			</threads>
		</waitThread>
		<choice async="false" optional="false" name="" sid="10997678380512737">
			<participant name="classificator"/>
			<assignedRule name="" form="default"/>
			<label><![CDATA[Tipo de contacto]]></label>
			<description><![CDATA[]]></description>
			<condition><![CDATA[true]]></condition>
			<deadLineDate><![CDATA[]]></deadLineDate>
			<forecastTimeToComplete><![CDATA[]]></forecastTimeToComplete>
			<forecastWorkDuration><![CDATA[]]></forecastWorkDuration>
			<canAddSubActivities/>
			<canDelegate/>
			<controlBy/>
			<variables>
				<variable name="emailRec"/>
			</variables>
			<question><![CDATA[Como classifica o email recebido?]]></question>
			<answers>
				<answer sid="10997678951256814">
					<availableWhen><![CDATA[]]></availableWhen>
					<disableWhen><![CDATA[]]></disableWhen>
					<label><![CDATA[Reclamação]]></label>
					<code>
						<xepCode sid="10997684968787173">
							<condition><![CDATA[ true ]]></condition>
							<codetorun><![CDATA[claimRun = new claim(); claimRun.name = emailRec.name;claimRun.srvcom = srvcom ; claimRun.operator = operator;]]></codetorun>
						</xepCode>
						<fillVariable async="false" optional="false" name="" sid="1099767967565735">
							<participant name="classificator"/>
							<assignedRule name="" form="default"/>
							<label><![CDATA[Preencha o resto da Reclamação]]></label>
							<description><![CDATA[]]></description>
							<condition><![CDATA[true]]></condition>
							<deadLineDate><![CDATA[]]></deadLineDate>
							<forecastTimeToComplete><![CDATA[]]></forecastTimeToComplete>
							<forecastWorkDuration><![CDATA[]]></forecastWorkDuration>
							<canAddSubActivities/>
							<canDelegate/>
							<controlBy/>
							<variables>
								<variable name="claimRun"/>
							</variables>
						</fillVariable>
					</code>
				</answer>
				<answer sid="10997679202125971">
					<availableWhen><![CDATA[]]></availableWhen>
					<disableWhen><![CDATA[]]></disableWhen>
					<label><![CDATA[Pedido de Informação]]></label>
					<code>
						<xepCode sid="10997707631490954">
							<condition><![CDATA[ true ]]></condition>
							<codetorun><![CDATA[pi = new information(); pi.name = emailRec.name;pi.srvcom = srvcom ; pi.operator = operator;]]></codetorun>
						</xepCode>
						<fillVariable async="false" optional="false" name="" sid="10997680100988056">
							<participant name="classificator"/>
							<assignedRule name="" form="default"/>
							<label><![CDATA[Preencha o resto do Pedido de Informação]]></label>
							<description><![CDATA[]]></description>
							<condition><![CDATA[true]]></condition>
							<deadLineDate><![CDATA[]]></deadLineDate>
							<forecastTimeToComplete><![CDATA[]]></forecastTimeToComplete>
							<forecastWorkDuration><![CDATA[]]></forecastWorkDuration>
							<canAddSubActivities/>
							<canDelegate/>
							<controlBy/>
							<variables>
								<variable name="pi"/>
							</variables>
						</fillVariable>
					</code>
				</answer>
				<answer sid="1099767867160643">
					<label><![CDATA[Sugestão]]></label>
					<availableWhen><![CDATA[]]></availableWhen>
					<disableWhen><![CDATA[]]></disableWhen>
					<code>
						<xepCode sid="1099770790304082">
							<condition><![CDATA[true]]></condition>
							<codetorun><![CDATA[sug = new suggestion(); sug.name = emailRec.name;sug.srvcom = srvcom ; sug.operator = operator;]]></codetorun>
						</xepCode>
						<fillVariable async="false" optional="false" name="" sid="10997679766501782">
							<participant name="classificator"/>
							<assignedRule name="" form="default"/>
							<label><![CDATA[Preencha o resto da sugestão]]></label>
							<description><![CDATA[]]></description>
							<condition><![CDATA[true]]></condition>
							<deadLineDate><![CDATA[]]></deadLineDate>
							<forecastTimeToComplete><![CDATA[]]></forecastTimeToComplete>
							<forecastWorkDuration><![CDATA[]]></forecastWorkDuration>
							<canAddSubActivities/>
							<canDelegate/>
							<controlBy/>
							<variables>
								<variable name="sug"/>
							</variables>
						</fillVariable>
					</code>
				</answer>
			</answers>
		</choice>
		<milestone name="Fase de Resposta" sid="10999969516549214"/>
		<cancelActivity>
			<condition><![CDATA[]]></condition>
			<activities>
				<cancel name="optPedido"/>
			</activities>
		</cancelActivity>
		<fillVariable async="false" optional="false" name="" sid="1099771041584596">
			<participant name="classificator"/>
			<assignedRule name="" form="default"/>
			<label><![CDATA[Resposta ao Cliente]]></label>
			<description><![CDATA[]]></description>
			<condition><![CDATA[true]]></condition>
			<deadLineDate><![CDATA[]]></deadLineDate>
			<forecastTimeToComplete><![CDATA[]]></forecastTimeToComplete>
			<forecastWorkDuration><![CDATA[]]></forecastWorkDuration>
			<canAddSubActivities/>
			<canDelegate/>
			<controlBy/>
			<variables>
				<variable name="emailResp"/>
			</variables>
		</fillVariable>
		<milestone name="Fase de Rescaldo e Avaliação" sid="11000026054554577"/>
		<activity async="true" optional="false" name="" sid="11000028278891684">
			<participant name="classificator"/>
			<assignedRule name="" form="default"/>
			<label><![CDATA[Pausa para café]]></label>
			<description><![CDATA[Pode agora fazer uma pausa para café enquanto é processado o programa.
Depois de ler esta mensagem conclua a tarefa.]]></description>
			<condition><![CDATA[true]]></condition>
			<deadLineDate><![CDATA[]]></deadLineDate>
			<forecastTimeToComplete><![CDATA[]]></forecastTimeToComplete>
			<forecastWorkDuration><![CDATA[]]></forecastWorkDuration>
			<canAddSubActivities/>
			<canDelegate/>
			<controlBy/>
			<variables/>
		</activity>
		<foreach sid="11000139565089792">
			<foreachvariable>esclares</foreachvariable>
			<code>
				<xepCode sid="11000142281205666">
					<condition><![CDATA[]]></condition>
					<codetorun><![CDATA[esclares.name  = "powerded by XWF";]]></codetorun>
				</xepCode>
			</code>
		</foreach>
		<activity async="false" optional="false" name="" sid="11003659136963418">
			<participant name="classificator"/>
			<assignedRule name="" form="default"/>
			<label><![CDATA[Confirmar]]></label>
			<description><![CDATA[Confirme apenas a lista de esclarecimentos internos enviada]]></description>
			<condition><![CDATA[true]]></condition>
			<deadLineDate><![CDATA[]]></deadLineDate>
			<forecastTimeToComplete><![CDATA[]]></forecastTimeToComplete>
			<forecastWorkDuration><![CDATA[]]></forecastWorkDuration>
			<canAddSubActivities/>
			<canDelegate/>
			<controlBy/>
			<variables>
				<variable name="esclares"/>
			</variables>
		</activity>
	</code>
</program>
