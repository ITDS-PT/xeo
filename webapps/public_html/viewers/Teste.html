<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Classificação</title>

<link rel="stylesheet" type="text/css"
	href="/xeov21/viewers/components/window/window.css" />

</head>

<body>

<div class="dDialog" id="xpto" class='BodyStyle'
	onmousedown="activeDialog(event,'xpto');"
	style="position: absolute; top: 50px; left: 100px; WIDHT: 600px; HEIGHT: 400PX; VISIBILITY: visible"
	unselectable="on">
	<table class="frame2" style="WIDTH: 450px; HEIGHT: 100%" cellspacing="0" cellpadding="0" border="0" unselectable="on">
	<thead unselectable="on">
		<tr unselectable="on" id='TrHeader'	onmousedown="dialogMouseDown(event,'xpto');" onmouseup="dialogMouseUp( event, 'xpto');">
			<td class="dialogLeft" unselectable="on">&nbsp;</td>
			<td class="content" unselectable="on">
				<h1 unselectable="on">Titulo</h1>
			</td>
			<td class="closeBtnContainer" align="right" unselectable="on">
				<div onclick="closeAddClassification('xpto');" class="close"
					id="dialogCloseBtn" unselectable="on" normalclass="close"
					downclass="close down" overclass="close over">
				</div>
			</td>
				<td class="dialogRight" unselectable="on">&nbsp;</td>
		</tr>
	</thead>
	<tbody unselectable="on">
		<tr unselectable="on">
			<td class="dialogLeft" unselectable="on">&nbsp;</td>
			<td class="content" colspan="2" unselectable="on">
				<div style='height:100%;width:100%;background-color:red'
			</td>
			<td class="dialogRight" unselectable="on">&nbsp;</td>
		</tr>
	</tbody>
	<tfoot unselectable="on">
		<tr style="HEIGHT: 1px" unselectable="on">
			<td class="dialogLeft" unselectable="on">&nbsp;</td>
				<td class="content" colspan="2" unselectable="on">
				<div style='cursor: resize; height: height; width: 100%'></div>
			<div class="buttons" unselectable="on">
			<button id="dlgBtnOk" unselectable="off" btnid="dlgBtnOk"
				onclick="ClickBtnOkxpto();">
			<div class="btnContent">Cancelar</div>
			</button>
			<button id="dlgBtnCancel" unselectable="off" btnid="dlgBtnCancel"
				onclick="closeAddClassification('xpto');">
			<div class="btnContent">Fechar</div>
			</button>
			</div>
			</td>
			<td class="dialogRight" unselectable="on">&nbsp;</td>
		</tr>
		<tr unselectable="on">
			<td class="dialogFooterLeft" unselectable="on"></td>
			<td colspan="2" unselectable="on">
			<div class="dialogFooterCenter" style="CURSOR: resize;"
				unselectable="on">&nbsp;</div>
			</td>
			<td class="dialogFooterRight" style='cursor: hand;'></td>
		</tr>
	</tfoot>
</table>
</div>

<div id='info'></div>

<script language='JavaScript'><!--

var moveState = new Object();

function getEventObj( event ) {
	var e = {};
    var x; 
    var y; 
    var oSrcElement;
    if( event.srcElement ) {
    	e.srcElement = event.srcElement;
    	e.x = event.x;
    	e.y = event.y;
    }
    else {
        e.srcElement = event.target;
    	e.x = event.clientX;
    	e.y = event.clientY;
    }
    return e;
}

function _attachEvent( eName, e, fn, cap ) {
	if( e.addEventListener ) {
		(cap?window:e).addEventListener( eName, fn, cap );
	}
	else {
		e.attachEvent( 'on' + eName, fn );
		if( cap )
			e.setCapture();	
	}
}

function _removeEvent( eName, e, fn, cap ) {
	if( e.addEventListener ) {
		(cap?window:e).removeEventListener( eName, fn, cap );
	} else {
		e.detachEvent( 'on' + eName, fn  );
		e.releaseCapture();
	}
}

function dialogMouseDown( e, id )
{
    e = getEventObj( e );
    
    if( !moveState[ id ] ) 
    {
        moveState[ id ] = new Object();

        var oSrcDialog = moveState[ id ];
        oSrcDialog.moving = true;

        var dialogDiv = document.getElementById( id );

        oSrcDialog.lastX = e.x;
        oSrcDialog.lastY = e.y;

		oSrcDialog.hMM = function(e) { dialogMouseMove( e,id ) };
		oSrcDialog.hMU = function(e) { dialogMouseUp( e,id ) }


		_attachEvent( 'mousemove', dialogDiv, oSrcDialog.hMM, true )
		_attachEvent( 'mouseup', dialogDiv, oSrcDialog.hMU, true )

        oSrcDialog.srcElement = dialogDiv;

    }
    
}

function getTrHeader( srcElement )
{
    while( srcElement.id != 'TrHeader' && srcElement.parentElement != null )
    {
        srcElement =  srcElement.parentElement;
    }
    return srcElement;
}

function dialogMouseUp( e, id )
{
    var oSrcDialog = moveState[ id ];
    if( oSrcDialog )
    {
        _removeEvent( 'mousemove', oSrcDialog.srcElement, oSrcDialog.hMM, true );
        _removeEvent( 'mouseup', oSrcDialog.srcElement, oSrcDialog.hMU, true );
    }
    moveState[ id ] = null;
}

var activateDialog = null;
function activeDialog( id )
{
    var dialogDiv = document.getElementById("id");
    activateDialog = dialogDiv;
}

function dialogMouseMove( e, id )
{
    if( moveState[ id ] )
    {
		e = getEventObj(e);

        var oSrcDialog = moveState[ id ];
        var difX = e.x - oSrcDialog.lastX;
        var difY = e.y - oSrcDialog.lastY;

        window.top.status = "X:" + e.x + "Y:" + e.y;
        dialogDiv = document.getElementById( id );

		var maxTop  = document.body.clientHeight - 10;
		var maxLeft = document.body.clientWidth - 10;
		
        var newY = parseInt(dialogDiv.style.top) + difY;
        var newX = parseInt(dialogDiv.style.left) + difX;
        
		if( newY > 0 && maxTop > newY ) {
        	dialogDiv.style.top = newY;
	        oSrcDialog.lastY = e.y;
		}
		else {
			if( newY <= 0 )
				dialogDiv.style.top = 0;
			else
				dialogDiv.style.top = maxTop
		}

		if( newX > 0 && maxLeft > newX ) {
        	dialogDiv.style.left = newX;
			oSrcDialog.lastX = e.x;
        } else {
			if( newX <= 0 )
        		dialogDiv.style.left = 0;
			else
        		dialogDiv.style.left = maxLeft;
		}
    }
}

--></script>

</body>
</html>



